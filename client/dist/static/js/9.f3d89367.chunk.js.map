{"version":3,"sources":["pages/order/EachOrders.jsx","pages/order/OrderedItems.jsx","pages/order/Order.jsx"],"names":["EachOrders","item","name","price","quantity","className","OrderedItems","orders","id","data","key","moment","createdAt","toDate","format","items","map","amount","mapStateToProps","createStructuredSelector","user","selectCurrentUser","connect","useState","setOrders","useEffect","firebase","firestore","collection","doc","orderBy","onSnapshot","snapshot","docs"],"mappings":"+NAWeA,MATf,YAA+B,IAATC,EAAQ,EAARA,KACXC,EAA0BD,EAA1BC,KAAMC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SACtB,OACE,yBAAKC,UAAU,iCACZH,EADH,IACUC,EADV,MACoBC,ICaTE,MAff,YAAmC,IAAXC,EAAU,EAAVA,OACdC,EAAaD,EAAbC,GAAIC,EAASF,EAATE,KACZ,OACE,yBAAKC,IAAKF,EAAIH,UAAU,YACtB,iCAAOM,IAAOJ,EAAOE,KAAKG,UAAUC,UAAUC,OAAO,cACrD,yBAAKT,UAAU,QACZI,EAAKM,MAAMC,KAAI,SAACf,GACf,OAAO,kBAAC,EAAD,CAAYS,IAAKT,EAAKO,GAAIP,KAAMA,QAG3C,yBAAKI,UAAU,UAAf,sBAA6CE,EAAOE,KAAKQ,UC+B/D,IAAMC,EAAkBC,YAAyB,CAC/CC,KAAMC,MAEOC,sBAAQJ,EAARI,EAzCf,YAA0B,IAATF,EAAQ,EAARA,KAAQ,EACKG,mBAAS,IADd,mBAChBhB,EADgB,KACRiB,EADQ,KAsBvB,OApBAC,qBAAU,WACJL,EACSM,IAASC,YACjBC,WAAW,SACXC,IAAIT,EAAKZ,IACToB,WAAW,aACXE,QAAQ,YAAa,QACrBC,YAAW,SAACC,GACXR,EACEQ,EAASC,KAAKjB,KAAI,SAACf,GAAD,MAAW,CAC3BO,GAAIP,EAAKO,GACTC,KAAMR,EAAKQ,eAKnBe,EAAU,MAEX,CAACJ,IAGF,yBAAKf,UAAU,6BACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,2CAGJ,yBAAKA,UAAU,OACZE,EAAOS,KAAI,SAACf,GACX,OAAO,kBAAC,EAAD,CAAcS,IAAKT,EAAKO,GAAID,OAAQN","file":"static/js/9.f3d89367.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./order.style.scss\";\r\nfunction EachOrders({ item }) {\r\n  const {  name, price, quantity } = item;\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      {name} {price} X {quantity}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EachOrders;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport EachOrders from \"./EachOrders\";\r\nimport \"./order.style.scss\";\r\nfunction OrderedItems({ orders }) {\r\n  const { id, data } = orders;\r\n  return (\r\n    <div key={id} className=\"col-md-3\">\r\n      <div> {moment(orders.data.createdAt.toDate()).format(\"MMM Do YY\")}</div>\r\n      <div className=\"card\">\r\n        {data.items.map((item) => {\r\n          return <EachOrders key={item.id} item={item} />;\r\n        })}\r\n      </div>\r\n      <div className=\"amount\"> Total Price:&#8358;{orders.data.amount}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderedItems;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { selectCurrentUser } from \"../../redux/user/user.selectors\";\r\nimport firebase from \"../../components/firebase/firebase.utils\";\r\nimport OrderedItems from \"./OrderedItems\";\r\nimport \"./order.style.scss\";\r\nfunction Order({ user }) {\r\n  const [orders, setOrders] = useState([]);\r\n  useEffect(() => {\r\n    if (user) {\r\n      const db = firebase.firestore();\r\n      db.collection(\"users\")\r\n        .doc(user.id)\r\n        .collection(\"cartItems\")\r\n        .orderBy(\"createdAt\", \"desc\")\r\n        .onSnapshot((snapshot) => {\r\n          setOrders(\r\n            snapshot.docs.map((item) => ({\r\n              id: item.id,\r\n              data: item.data(),\r\n            }))\r\n          );\r\n        });\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"container order-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <h3>My Orders</h3>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        {orders.map((item) => {\r\n          return <OrderedItems key={item.id} orders={item} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  user: selectCurrentUser,\r\n});\r\nexport default connect(mapStateToProps)(Order);\r\n"],"sourceRoot":""}